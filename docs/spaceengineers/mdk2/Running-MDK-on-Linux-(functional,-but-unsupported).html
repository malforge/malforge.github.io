<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Running MDK on Linux (functional, but unsupported) - MDK2 Documentation - MDK2 Documentation</title>
    <link rel="stylesheet" href="docs-styles.css?v=5b1774c80005">
</head>
<body>
    <noscript>
        <div style="position: fixed; top: 0; left: 0; right: 0; background: #ff6b6b; color: white; padding: 1em; text-align: center; z-index: 10000; font-family: Arial, sans-serif;">
            <strong>JavaScript Required:</strong> This documentation site requires JavaScript to function. Please enable JavaScript in your browser to view the navigation.
        </div>
    </noscript>
    <header class="top-header">
        <button id="sidebar-toggle" class="sidebar-toggle" aria-label="Toggle sidebar">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <nav class="header-nav">
            <a href="index.html" class="header-btn" title="Home">
                <span>üè†</span>
            </a>
            <a href="https://spaceengineers.wiki.gg/" target="_blank" rel="noopener" class="header-btn header-btn-icon" title="Space Engineers Wiki">
                <img src="wiki.png" alt="Wiki" class="header-icon">
            </a>
            <a href="https://github.com/malforge/mdk2" target="_blank" rel="noopener" class="header-btn header-btn-icon" title="MDK2 - Malware's Development Kit">
                <img src="mdk2.png" alt="MDK2" class="header-icon">
            </a>
            <a href="../pbapi/index.html" class="header-btn header-btn-api" title="Programmable Block API">
                <span class="api-label"><strong>PB</strong><br><small>api</small></span>
            </a>
            <a href="../modapi/index.html" class="header-btn header-btn-api header-btn-compact" title="Mod API">
                <span class="api-label"><strong>MOD</strong><br><small>api</small></span>
            </a>
        </nav>
    </header>
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2 class="sidebar-title">MDK2 Documentation</h2>
        </div>
        <nav class="sidebar-nav">
            <button id="sidebar-scroll-top" class="sidebar-scroll-top" aria-label="Scroll to top">‚Üë Back to top</button>
<a href="index.html">Home</a>
<h3>Getting Started</h3>
<ul>
    <li><a href="Getting-Started-using-Jetbrains-Rider.html">Getting Started using Jetbrains Rider</a></li>
    <li><a href="Getting-Started-using-Visual-Studio.html">Getting Started using Visual Studio</a></li>
    <li><a href="Getting-Started-using-VSCode.html">Getting Started using VSCode</a></li>
</ul>
<h3>Configuration</h3>
<ul>
    <li><a href="Controlling-File-Order-in-MDK¬≤-Projects.html">Controlling File Order in MDK¬≤ Projects</a></li>
    <li><a href="MDK¬≤-Project-Configuration-Guide.html">MDK¬≤ Project Configuration Guide</a></li>
    <li><a href="Mixin-Projects.html">Mixin Projects</a></li>
    <li><a href="Programmable-Block-Scripts.html">Programmable Block Scripts</a></li>
    <li><a href="Using-the-Minifier-and-Preserve-Regions-in-MDK¬≤.html">Using the Minifier and Preserve Regions in MDK¬≤</a></li>
</ul>
<h3>Updates</h3>
<ul>
    <li><a href="Updating-the-MDK2-Nuget-packages-using-Jetbrains-Rider.html">Updating the MDK2 Nuget packages using Jetbrains Rider</a></li>
    <li><a href="Updating-the-MDK2-Nuget-packages-using-Visual-Studio.html">Updating the MDK2 Nuget packages using Visual Studio</a></li>
    <li><a href="Updating-the-MDK2-Nuget-packages-using-VSCode-or-command-line.html">Updating the MDK2 Nuget packages using VSCode or command line</a></li>
    <li><a href="Updating-the-MDK2-templates.html">Updating the MDK2 templates</a></li>
</ul>
<h3>Platform Support</h3>
<ul>
    <li><a href="Running-MDK-on-Linux-(functional,-but-unsupported).html">Running MDK on Linux (functional, but unsupported)</a></li>
</ul>

        </nav>
        <div class="sidebar-resize-handle"></div>
    </aside>
    <main class="content">
        <article class="docs-content">
<h1 id="running-mdk2-under-linux">Running MDK2 under linux</h1>
<p>To run MDK2 under linux, you'll have to compile the mdk.exe program as a linux executable, then replace it in the ~/.nuget/packages/mal.mdk2.pbpackager directory. To do that clone <a href="https://github.com/malforge/mdk2">the mdk2 repo</a> then change into it and run the following commands:</p>
<pre><code>
cd Source/Mdk.CommandLine  

dotnet publish &quot;Mdk.CommandLine.csproj&quot; -c Release --self-contained false -r linux-x64 /p:PublishSingleFile=true /p:IncludeNativeLibrariesForSelfExtract=true -o &quot;*Undefined*Binaries&quot;

</code></pre>
<p>Your linux-compiled mdk.exe will be in <code>*Undefined*Binaries/mdk</code> (No <code>.exe</code>) and all you have to do now is copy it into <code>~/.nuget/packages/mal.mdk2.pbpackager/&lt;version&gt;/tools/mdk.exe</code> -- Overwriting the one that came from the nuget package download.</p>
<p>Note that to use it, you'll have to manually supply the location of space engineers' Bin64 folder, as well as your script locations using <code>&lt;proj&gt;.mdk.local.ini</code> as MDK2 can not auto-detect this under Linux.</p>
<hr />
<h1 id="picarls-supplemental-instructions">Picarl's Supplemental Instructions</h1>
<p>Accurate as of 2.1.5:</p>
<p>Howdy folk! I've recently had to perform an additional step to the above instructions in order to get my MDK2 NuGet package running on Linux.</p>
<p>Preamble: You'll want to have the MDK2 Repo downloaded and opened in the IDE of your choice to build the Linux executables below.</p>
<ol>
<li><p>Restore / Download the MDK NuGet packages for the script project you want to build.</p>
</li>
<li><p>With the MDK2 Repo opened in the aforementioned IDE of your choice:</p>
<p>Edit the .csproj files for MDK.CommandLine and MDK.CheckDotNet and change the value of the <RuntimeIdentifier> tags to &quot;linux-x64&quot;</p>
<p><img src="https://github.com/user-attachments/assets/c364b16c-b6af-4d4b-8833-71358d4582cd" alt="Image" /></p>
</li>
<li><p>Copy the contents of mdk2/Source/Mdk.CommandLine/bin/Release/net9.0/linux-x64 to ~/.nuget/packages/mal.mdk2.pbpackager/2.1.5/tools (Merge and replace all)</p>
</li>
<li><p>Copy the contents of mdk2/Source/Mdk.CheckDotNet/bin/Debug/net8.0/linux-x64 to ~/.nuget/packages/mal.mdk2.pbpackager/2.1.5/tools (Merge and replace all)</p>
</li>
<li><p>At this point: You have a mdk.exe (built for windows) and a mdk (no extension, built for linux) file in the ~/.nuget/packages/mal.mdk2.pbpackager/2.1.5/tools directory.</p>
<p>Delete mdk.exe, and rename mdk to mdk.exe in order to replace it.</p>
</li>
<li><p>Reload any projects you may have open, attempt to build.</p>
</li>
<li><p>Attempt to build your script - and hopefully you see similar results to below!</p>
<p><img src="https://github.com/user-attachments/assets/14db05f9-ae22-48c9-a992-ede67cd13aed" alt="Image" /></p>
</li>
</ol>
<p>(My script is large. Disregard that.)</p>
<hr />
<p>A note from the developer: I don't run Linux anywhere, otherwise I might as well have supported Linux out of the box seeing how simple it is to make work. A big thank you to AmandaC on Discord for doing the research and writing the guide above.</p>

        </article>
    </main>
    <script src="docs.js?v=5b1774c80005"></script>
</body>
</html>
